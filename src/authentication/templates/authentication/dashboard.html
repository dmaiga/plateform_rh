{% extends 'authentication/base.html' %}
{% block content %}
<div class="container">
  <h2 class="mb-4">ğŸ¯ Mon Dashboard</h2>
  <p>Bonjour {{ request.user.get_full_name }} !</p>

  <h4>ğŸ“Œ TÃ¢ches prÃ©vues pour aujourdâ€™hui</h4>
  <ul class="list-group mb-4">
    {% for tache in taches_aujourdhui %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ tache.titre }}
        {% if tache.est_terminee %}
          âœ…
        {% elif tache.heure_debut and not tache.heure_fin %}
          â±ï¸ En cours
        {% else %}
          â³ Ã€ faire
        {% endif %}
      </li>
    {% empty %}
      <li class="list-group-item">Aucune tÃ¢che prÃ©vue pour aujourdâ€™hui</li>
    {% endfor %}
  </ul>

  <h4>ğŸ•’ TÃ¢ches en cours</h4>
  <ul class="list-group mb-4">
    {% for tache in taches_en_cours %}
      <li class="list-group-item">{{ tache.titre }} â€” dÃ©marrÃ©e Ã  {{ tache.heure_debut|date:"H:i" }}</li>
    {% empty %}
      <li class="list-group-item">Aucune tÃ¢che en cours</li>
    {% endfor %}
  </ul>

  <h4>ğŸ“‚ TÃ¢ches Ã  faire</h4>
  <ul class="list-group mb-4">
    {% for tache in taches_a_faire %}
      <li class="list-group-item">{{ tache.titre }}</li>
    {% empty %}
      <li class="list-group-item">Toutes les tÃ¢ches sont en cours ou terminÃ©es</li>
    {% endfor %}
  </ul>

  <h4>âœ… TÃ¢ches terminÃ©es</h4>
  <ul class="list-group">
    {% for tache in taches_terminees %}
      <li class="list-group-item">{{ tache.titre }}</li>
    {% empty %}
      <li class="list-group-item">Aucune tÃ¢che terminÃ©e cette semaine</li>
    {% endfor %}
  </ul>

  <br>
  <a href="{% url 'logout' %}" class="btn btn-outline-secondary">Se dÃ©connecter</a>
  
</div>
{% endblock %}
