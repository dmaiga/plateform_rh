{% extends 'site_web/layout.html' %}
{% load static %}

{% block content %}

<!-- Hero Section -->
<section class="hero-section py-3">
  <div class="container py-3">
    <div class="row align-items-center">
      <div class="col-lg-6 order-lg-1 order-2 mt-3 mt-lg-0">
        <h1 class="fw-bold mb-3 fs-2" style="color: var(--primary-blue);">
          Antares : Au service des talents et des organisations
        </h1>
        <p class="lead mb-2" style="color: var(--secondary-blue);">
          Cabinet spécialisé en gestion des ressources humaines et en organisation des entreprises.
          Nous connectons les talents aux entreprises pour bâtir des équipes performantes, 
          fondées sur la collaboration, la confiance et le respect de l’humain. <br>
          <span style="text-decoration: underline; color: var(--accent-orange); font-weight: bold;">Notre mission</span> :
          accompagner les entreprises, les professionnels, les chercheurs d’emploi et les partenaires tout au long 
          de leur parcours de croissance.
        </p>

        <div class="d-flex flex-wrap gap-2">
          <a href="{%url 'entreprise-info' %}" class="btn btn-primary btn-lg px-3" style="background-color: var(--accent-orange); border-color: var(--accent-orange);">
            <i class="bi bi-building me-2"></i>Espace Entreprise
          </a>
          <a href="{%url 'candidate-registry' %}" class="btn btn-outline-primary btn-lg px-3" style="border-color: var(--primary-blue); color: var(--primary-blue);">
            <i class="bi bi-person-vcard me-2"></i>Espace Candidat
          </a>
        </div>
      </div>

     <!-- Carrousel Desktop (caché sur mobile) -->
<div class="col-lg-6 order-lg-2 order-1 d-none d-lg-block">
  <div class="hero-carousel">
    <!-- Image 1 -->
    <div class="carousel-item active">
      <img src="{% static 'site_web/images/hero/hero-image-1.png' %}" 
           alt="Équipe professionnelle" 
           loading="eager"  
           width="1200" 
           height="800"
           class="img-fluid rounded-3 shadow-sm">
    </div>
     <!-- Image 2 -->
    <div class="carousel-item">
      <img src="{% static 'site_web/images/hero/logo_antares.png' %}" 
           alt="Entretien professionnel" 
           loading="eager"
           class="img-fluid rounded-3 shadow-sm">
    </div>
    <!-- Image 3 -->
    <div class="carousel-item">
      <img src="{% static 'site_web/images/hero/hero-image-2.png' %}" 
           alt="Entretien professionnel" 
           loading="eager"
           class="img-fluid rounded-3 shadow-sm">
    </div>
    <!-- Image 4 -->
    <div class="carousel-item">
      <img src="{% static 'site_web/images/hero/hero-image-3.png' %}" 
           alt="Entretien professionnel" 
           loading="eager"
           class="img-fluid rounded-3 shadow-sm">
    </div>
    <!-- Image 5 -->
    <div class="carousel-item">
      <img src="{% static 'site_web/images/hero/hero-image-4.png' %}" 
           alt="Espace de travail" 
           loading="eager"
           class="img-fluid rounded-3 shadow-sm">
    </div>
  </div>
</div>
    </div>
  </div>
</section>

<!-- Dual Content Grid - Version enrichie -->
<section class="dual-grid-section py-5 bg-light">
  <div class="container">
    <div class="row g-4">
      <!-- Entreprise -->
      <div class="col-lg-6" id="entreprise">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body p-4 p-lg-5" style="background-color: var(--primary-blue); color: white;">
            <div class="badge mb-3" style="background-color: var(--accent-orange);">Pour les entreprises</div>
            <h2 class="mb-4">Optimisez votre capital humain</h2>
            <ul class="list-unstyled mb-4">
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Recrutement ciblé et rapide</li>
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Personnel intérimaire disponible</li>
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Externalisation RH complète</li>
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Évaluation & audit social personnalisés</li>
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Réactivité, conformité & réseau local/international</li>
            </ul>
            <a href="{% url 'services' %}" class="btn btn-outline-light">Découvrir nos services RH</a>
          </div>
        </div>
      </div>
      
      <!-- Candidat -->
      <div class="col-lg-6" id="candidat">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body p-4 p-lg-5" style="background-color: white;">
            <div class="badge mb-3" style="background-color: var(--primary-blue); color: white;">Pour les candidats</div>
            <h2 class="mb-4" style="color: var(--primary-blue);">Décrochez l'opportunité idéale</h2>
            <ul class="list-unstyled mb-4">
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Offres exclusives & ciblées</li>
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Coaching personnalisé & suivi</li>
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Accès à un large réseau d’entreprises</li>
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Formations adaptées à votre profil</li>
              <li class="mb-3"><i class="bi bi-check-circle-fill me-2" style="color: var(--accent-orange);"></i> Accompagnement administratif et social</li>
            </ul>
            <a href="{% url 'jobs' %}" class="btn btn-outline-primary" style="border-color: var(--primary-blue); color: var(--primary-blue);">Explorer les offres</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Offres d'emploi -->
<section class="jobs-section py-5" style="background-color: #F4F4F9;">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center mb-5">
      <h2 class="mb-0" style="color: #0D3B66;">Nos dernières opportunités</h2>
      <a href="{% url 'jobs' %}" class="btn btn-link" style="color: #F46036;">
        Voir toutes <i class="bi bi-arrow-right ms-2"></i>
      </a>
    </div>
    <div class="row g-4">
      <div class="col-md-4">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body">
            <span class="badge mb-2" style="background-color: #2D76B6; color: white;">Nouveau</span>
            <h3 class="h5" style="color: #0D3B66;">Responsable Logistique</h3>
            <p class="text-muted small mb-2"><i class="bi bi-geo-alt me-1"></i> Bamako, Mali</p>
            <p class="small mb-3">CDI dans le secteur minier avec avantages compétitifs</p>
            <a href="{% url 'jobs' %}"  class="btn btn-sm" style="background-color: #F46036; color: white;">Postuler</a>
          </div>
        </div>
      </div>
      <!-- Ajouter 2 autres offres similaires -->
       <div class="col-md-4">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body">
            <span class="badge mb-2" style="background-color: #2D76B6; color: white;">Nouveau</span>
            <h3 class="h5" style="color: #0D3B66;">Développeur Fullstack</h3>
            <p class="text-muted small mb-2"><i class="bi bi-geo-alt me-1"></i> Bamako, Mali</p>
            <p class="small mb-3">Contrat 12 mois renouvelable</p>
            <a href="{% url 'jobs' %}"  class="btn btn-sm" style="background-color: #F46036; color: white;">Postuler</a>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body">
            <span class="badge mb-2" style="background-color: #2D76B6; color: white;">Nouveau</span>
            <h3 class="h5" style="color: #0D3B66;">Expert Comptablee</h3>
            <p class="text-muted small mb-2"><i class="bi bi-geo-alt me-1"></i> Bamako, Mali</p>
            <p class="small mb-3">Mission de 6 mois pour audit financier</p>
            <a href="{% url 'jobs' %}"   class="btn btn-sm" style="background-color: #F46036; color: white;">Postuler</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- Section Valeurs - Optimisée pour mobile -->
<section class="values-section py-5" style="background-color: #FFFFFF;">
  <div class="container">
    <h2 class="text-center mb-5" style="color: #0D3B66;">Notre ADN à Antares</h2>
    <div class="row g-4">
      <!-- Carte Valeur 1 -->
      <div class="col-6 col-md-6 col-lg-3">
        <div class="value-card text-center p-3 h-100 border-0 shadow-sm rounded-3">
          <div class="icon-circle mb-3 mx-auto d-flex align-items-center justify-content-center" 
               style="background-color: rgba(13,59,102,0.1); width: 60px; height: 60px;">
            <i class="bi bi-shield-check fs-4" style="color: #0D3B66;"></i>
          </div>
          <h3 class="h5 mb-3" style="color: #0D3B66;">Fiabilité</h3>
          <p class="small text-muted mb-0">Engagements contractuels strictement respectés</p>
        </div>
      </div>
      
      <!-- Carte Valeur 2 -->
      <div class="col-6 col-md-6 col-lg-3">
        <div class="value-card text-center p-3 h-100 border-0 shadow-sm rounded-3">
          <div class="icon-circle mb-3 mx-auto d-flex align-items-center justify-content-center" 
               style="background-color: rgba(13,59,102,0.1); width: 60px; height: 60px;">
            <i class="bi bi-geo-alt fs-4" style="color: #0D3B66;"></i>
          </div>
          <h3 class="h5 mb-3" style="color: #0D3B66;">Expertise locale</h3>
          <p class="small text-muted mb-0">Connaissance approfondie des marchés africains</p>
        </div>
      </div>
      
      <!-- Carte Valeur 3 -->
      <div class="col-6 col-md-6 col-lg-3">
        <div class="value-card text-center p-3 h-100 border-0 shadow-sm rounded-3">
          <div class="icon-circle mb-3 mx-auto d-flex align-items-center justify-content-center" 
               style="background-color: rgba(13,59,102,0.1); width: 60px; height: 60px;">
            <i class="bi bi-lightbulb fs-4" style="color: #0D3B66;"></i>
          </div>
          <h3 class="h5 mb-3" style="color: #0D3B66;">Innovation</h3>
          <p class="small text-muted mb-0">Solutions digitales pour une gestion RH moderne</p>
        </div>
      </div>
      
      <!-- Carte Valeur 4 -->
      <div class="col-6 col-md-6 col-lg-3">
        <div class="value-card text-center p-3 h-100 border-0 shadow-sm rounded-3">
          <div class="icon-circle mb-3 mx-auto d-flex align-items-center justify-content-center" 
               style="background-color: rgba(13,59,102,0.1); width: 60px; height: 60px;">
            <i class="bi bi-people fs-4" style="color: #0D3B66;"></i>
          </div>
          <h3 class="h5 mb-3" style="color: #0D3B66;">Proximité</h3>
          <p class="small text-muted mb-0">Relation personnalisée avec chaque client</p>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- Carrousel Partenaires -->
<section class="partners-section bg-"style="background-color: #F4F4F9;">
  <div class="container-fluid px-0">
        <h3 class="h5 text-center text-muted ">Ils nous font confiance</h3>
    <div class="splide" id="partners-slider">
      <div class="splide__track">
        <ul class="splide__list">
          <li class="splide__slide">
            <div class="partner-item">
              <img src="{% static 'site_web/images/partenaires/bama.png' %}" alt="Bama" class="img-fluid">
            </div>
          </li>
          <li class="splide__slide">
            <div class="partner-item">
              <img src="{% static 'site_web/images/partenaires/cmm.jpg' %}" alt="Ciments et Matériaux du Mali" class="img-fluid">
            </div>
          </li>
          <li class="splide__slide">
            <div class="partner-item">
              <img src="{% static 'site_web/images/partenaires/gino.jpg' %}" alt="Gino" class="img-fluid">
            </div>
          </li>
          <li class="splide__slide">
            <div class="partner-item">
              <img src="{% static 'site_web/images/partenaires/jago.jpg' %}" alt="Jago" class="img-fluid">
            </div>
          </li>
          <li class="splide__slide">
            <div class="partner-item">
              <img src="{% static 'site_web/images/partenaires/Sonavie.png' %}" alt="Sonavie" class="img-fluid">
            </div>
          </li>
          <li class="splide__slide">
            <div class="partner-item">
              <img src="{% static 'site_web/images/partenaires/jumbo.png' %}" alt="Jumbo" class="img-fluid">
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</section>


<!-- Témoignages - Optimisé pour mobile -->
<section class="testimonials-section py-5" style="background-color: #0D3B66; color: white;">
  <div class="container">
    <h2 class="text-center mb-5">Ils témoignent</h2>
    
    <div class="row g-4">
      <!-- Témoignage 1 -->
      <div class="col-12 col-md-6 col-lg-4">
        <div class="testimonial-card p-4 h-100" style="background-color: rgba(255,255,255,0.1); border-radius: 12px;">
          <div class="d-flex align-items-center mb-3">
            <img src="{% static 'site_web/images/profil/pro_user5.jpg' %}" alt="Mohamed K." 
                 class="rounded-circle me-3" width="50" height="50" style="object-fit: cover;">
            <div>
              <h5 class="mb-0">Mohamed K.</h5>
              <p class="small mb-0" style="color: rgba(255,255,255,0.7);">Directeur Financier</p>
            </div>
          </div>
          <div class="rating mb-2">
            <i class="bi bi-star-fill text-warning"></i>
            <i class="bi bi-star-fill text-warning"></i>
            <i class="bi bi-star-fill text-warning"></i>
            <i class="bi bi-star-fill text-warning"></i>
            <i class="bi bi-star-fill text-warning"></i>
          </div>
          <p class="mb-0">"Leur compréhension des enjeux locaux a fait la différence dans notre recrutement de cadres dirigeants."</p>
        </div>
      </div>
      
      <!-- Témoignage 2 -->
      <div class="col-12 col-md-6 col-lg-4">
        <div class="testimonial-card p-4 h-100" style="background-color: rgba(255,255,255,0.1); border-radius: 12px;">
          <div class="d-flex align-items-center mb-3">
            <img src="{% static 'site_web/images/profil/pro_user1.jpg' %}" alt="Salif M." 
                 class="rounded-circle me-3" width="50" height="50" style="object-fit: cover;">
            <div>
              <h5 class="mb-0">Salif M.</h5>
              <p class="small mb-0" style="color: rgba(255,255,255,0.7);">Entrepreneur</p>
            </div>
          </div>
          <div class="rating mb-2">
            <i class="bi bi-star-fill text-warning"></i>
            <i class="bi bi-star-fill text-warning"></i>
            <i class="bi bi-star-fill text-warning"></i>
            <i class="bi bi-star-fill text-warning"></i>
            <i class="bi bi-star-half text-warning"></i>
          </div>
          <p class="mb-0">"Antares nous a aidé à être plus efficient avec une équipe qualifiée en un temps record."</p>
        </div>
      </div>
      
      <!-- Témoignage 3 -->
      <div class="col-12 col-md-6 col-lg-4">
        <div class="testimonial-card p-4 h-100" style="background-color: rgba(255,255,255,0.1); border-radius: 12px;">
          <div class="d-flex align-items-center mb-3">
            <img src="{% static 'site_web/images/profil/pro_user42.jpg' %}" alt="Aminata D." 
                 class="rounded-circle me-3" width="50" height="50" style="object-fit: cover;">
            <div>
              <h5 class="mb-0">Aminata D.</h5>
              <p class="small mb-0" style="color: rgba(255,255,255,0.7);">Ingénieure Logiciel</p>
            </div>
          </div>
          <div class="rating mb-2">
            <i class="bi bi-star-fill text-warning"></i>
            <i class="bi bi-star-fill text-warning"></i>
            <i class="bi bi-star-fill text-warning"></i>
            <i class="bi bi-star-fill text-warning"></i>
            <i class="bi bi-star-fill text-warning"></i>
          </div>
          <p class="mb-0">"Grâce à leur coaching, j'ai décroché un poste à 40% mieux rémunéré que mon précédent emploi."</p>
        </div>
      </div>
    </div>
    
    <!-- Bouton "Voir plus" pour mobile -->
    <div class="text-center mt-4 d-block d-md-none">
      <button class="btn btn-outline-light btn-sm" id="showMoreTestimonials">
        Voir plus de témoignages <i class="bi bi-chevron-down"></i>
      </button>
    </div>
  </div>
</section>

<!-- CTA Final - Optimisé pour mobile -->
<section class="cta-section py-5" style="background-color: #F46036; color: white;">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8 text-center">
        <h2 class="fw-bold mb-4">Prêt à transformer votre expérience RH ?</h2>
        <p class="lead mb-4">Nos experts sont à votre écoute pour répondre à vos besoins en recrutement et gestion des talents.</p>
        
        <div class="d-flex flex-column flex-md-row justify-content-center gap-3">
          <a href="{% url 'contact' %}" class="btn btn-light btn-lg px-4 py-3" style="color: #F46036;">
            <i class="bi bi-chat-left-text me-2"></i>Parler à un expert
          </a>
          <a href="{% url 'jobs' %}" class="btn btn-outline-light btn-lg px-4 py-3">
            <i class="bi bi-search me-2"></i>Rechercher des offres
          </a>
        </div>
        
        <!-- Numéro de téléphone visible sur mobile -->
        <div class="mt-4 d-block d-md-none">
          <a href="tel:+22300000000" class="text-white d-inline-flex align-items-center">
            <i class="bi bi-telephone-fill me-2"></i> +223 00 00 00 00
          </a>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Splide JS et CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css">
<script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>

<style>
  /* Hero Carousel */
/* Hero Carousel - Version corrigée */
.hero-carousel {
  position: relative;
  border-radius: 12px;
  overflow: hidden;
  height: 500px; /* Hauteur fixe */
  width: 100%;
}

.hero-carousel .carousel-item {
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: 0;
  transition: opacity 1.2s ease-in-out;
}

.hero-carousel .carousel-item.active {
  opacity: 1;
}

.hero-carousel img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* Garantit que l'image couvre toute la zone */
  object-position: center; /* Centre l'image */
}

/* Mobile adaptation */
@media (max-width: 1200px) {
  .hero-carousel {
    height: 350px; /* Ajustement pour écrans moyens */
  }
}
  /* Styles spécifiques pour index.html */
  .values-section .value-card {
    transition: all 0.3s ease;
    border: 1px solid rgba(0,0,0,0.05);
  }
  
  .values-section .value-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
  }
  
  /* Témoignages */
  .testimonials-section .testimonial-card {
    transition: all 0.3s ease;
  }
  
  .testimonials-section .testimonial-card:hover {
    background-color: rgba(255,255,255,0.15) !important;
    transform: translateY(-5px);
  }
  
  /* CTA Section */
  .cta-section {
    background: linear-gradient(135deg, #F46036 0%, #e04b22 100%);
  }
  
  /* Responsive adjustments */
  @media (max-width: 768px) {
    /* Valeurs - 2 colonnes sur mobile */
    .values-section .col-6 {
      padding: 0.5rem;
    }
    
    .values-section .value-card {
      padding: 1rem;
    }
    
    .values-section h3 {
      font-size: 1rem;
    }
    
    /* Témoignages - pleine largeur sur mobile */
    .testimonials-section .col-12:not(:first-child) {
      display: none;
    }
    
    .testimonials-section.show-more .col-12 {
      display: block;
    }
    
    /* CTA - boutons en colonne */
    .cta-section .d-flex {
      flex-direction: column;
    }
    
    .cta-section .btn {
      width: 100%;
      margin-bottom: 0.5rem;
    }
  }
  
  @media (min-width: 768px) {
    .values-section .icon-circle {
      width: 80px;
      height: 80px;
    }
  }
  .hero-section {
    background: linear-gradient(135deg, var(--light-gray) 0%, white 100%);
  }
  
  .partners-section {
    border-top: 1px solid rgba(0,0,0,0.05);
    border-bottom: 1px solid rgba(0,0,0,0.05);
  }
  
  .partner-item {
    padding: 0 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100px;
  }
  
  .partner-item img {
    max-height: 60px;
    width: auto;
    transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
  }
  
  .partner-item:hover img {
    transform: scale(0.9);
    opacity: 0.9;
  }
  
  .dual-grid-section {
    background: linear-gradient(to bottom, var(--light-gray) 0%, white 100%);
  }
  
  .card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  
  .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.1) !important;
  }
  /* Styles généraux */
  .icon-circle {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .value-card {
    transition: transform 0.3s ease;
  }
  
  .value-card:hover {
    transform: translateY(-5px);
  }
  
  
  /* Dual Grid Section */
  .dual-grid-container {
    display: flex;
    height: 500px;
    position: relative;
    overflow: hidden;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
  }
  
  .grid-item {
    flex: 1;
    padding: 3rem;
    transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    position: relative;
    overflow: hidden;
  }
  
  .enterprise-card {
    clip-path: polygon(0 0, 100% 0, 60% 100%, 0% 100%);
  }
  
  .candidate-card {
    clip-path: polygon(40% 0, 100% 0, 100% 100%, 0% 100%);
    margin-left: -20%;
  }
  
  .grid-item:hover {
    flex: 1.8;
    z-index: 2;
  }
  
  .grid-item .card-content {
    max-width: 400px;
  }
  
  /* Responsive */
  @media (max-width: 992px) {
    .dual-grid-container {
      flex-direction: column;
      height: auto;
    }
    
    .enterprise-card, 
    .candidate-card {
      clip-path: none;
      margin-left: 0;
    }
    
    .grid-item:hover {
      flex: 1;
    }
    .hero-section h1 {
    font-size: 1.3rem !important;
  }
.hero-section .col-lg-6 {
    padding: 0 1rem;
  }
  
  .hero-section h1 {
    font-size: 1.5rem !important;
  }
  .hero-section p.lead {
    font-size: 0.95rem !important;
  }

  .hero-img-mobile {
    display: none !important;
  }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    new Splide('#partners-slider', {
      type: 'loop',
      perPage: 5,
      perMove: 1,
      autoplay: true,
      interval: 3000,
      speed: 600,
      pauseOnHover: true,
      arrows: false,
      pagination: false,
      breakpoints: {
        1200: { perPage: 4 },
        992: { perPage: 3 },
        768: { perPage: 2 },
        576: { perPage: 1 }
      }
    }).mount();
  });
// Carrousel amélioré avec préchargement
document.addEventListener('DOMContentLoaded', function() {
  const carousel = document.querySelector('.hero-carousel');
  if (!carousel) return;

  const items = carousel.querySelectorAll('.carousel-item');
  let currentIndex = 0;
  const speed = 3500; // 3.5 secondes

  // Préchargement des images
  function preloadImages() {
    items.forEach(item => {
      const img = item.querySelector('img');
      if (img) img.loading = 'eager';
    });
  }

  function showNextItem() {
    items[currentIndex].classList.remove('active');
    currentIndex = (currentIndex + 1) % items.length;
    items[currentIndex].classList.add('active');
  }

  preloadImages();
  
  // Démarrer seulement s'il y a plusieurs images
  if (items.length > 1) {
    const interval = setInterval(showNextItem, speed);
    
    // Contrôles interactifs
    carousel.addEventListener('mouseenter', () => clearInterval(interval));
    carousel.addEventListener('mouseleave', () => {
      interval = setInterval(showNextItem, speed);
    });
  } else if (items.length === 1) {
    items[0].classList.add('active'); // Afficher la seule image
  }
});
</script>
{% endblock %}